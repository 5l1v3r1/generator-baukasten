/*
 |--------------------------------------------------------------------------
 |  Flexbox Grid
 |--------------------------------------------------------------------------
 */

// Make Section Mixin
@mixin make-section-flex($behaviour: 'fixed') {
  width: 100%;
  max-width: if($behaviour == 'fixed', $bk-maxWidth, none);
  position: relative;
  margin-left: auto;
  margin-right: auto;
  @include f($bk-gutterWidthMin * 2, $bk-gutterWidthMax * 2, padding-left padding-right);
}

// Make Row Mixin
@mixin make-row-flex($factorMin: 1, $factorMax: 1) {
  display: flex;
  flex-wrap: wrap;
  flex: 1 1 auto;
  @include f(-$bk-gutterWidthMin * $factorMin, -$bk-gutterWidthMax * $factorMax, margin-left margin-right);
}

// Make Col Mixin
@mixin make-col-flex($columns: 0, $context: $bk-columns, $padding: true) {
  // Force Columns to 12 if it > as 12
  @if $columns > $bk-columns {
    $columns: $bk-columns;
  }

  // Make it colish
  @include make-col-ready-flex();

  // Col Width
  @if $columns == 0 {
    flex: 1 1 auto;
    max-width: 100%;
  } @else {
    width: 100%;
    max-width: calc(#{$columns} / #{$context} * 100%);
    flex: 1 1 calc(#{$columns} / #{$context} * 100%);
  }

  // Set Padding
  @if $padding == true {
    @include make-col-padding-flex();
  }
}


/*
 |--------------------------------------------------------------------------
 |  Misc Mixins
 |--------------------------------------------------------------------------
 */

// Section Padding Mixin
@mixin make-section-padding-flex($factor: 1) {
  @if $factor <= 1 {
    $factor: $factor * 2;
    padding-top: 0;
    @include f($bk-vrGutterHeightMin * $factor, $bk-vrGutterHeightMax * $factor, padding-bottom);

  } @else {
    $factor: $factor * 2;
    @include f($bk-vrGutterHeightMin * ($factor - 2), $bk-vrGutterHeightMax * ($factor - 2), padding-top);
    @include f($bk-vrGutterHeightMin * ($factor), $bk-vrGutterHeightMax * ($factor), padding-bottom);
  }
}

// Col Padding Mixin
@mixin make-col-padding-flex($factor: 1) {
  @if $factor < 0 {
    $factor: 0;
  }
  @include f($bk-gutterWidthMin * $factor, $bk-gutterWidthMax * $factor, padding-left padding-right);
}

// Make Col Ready
@mixin make-col-ready-flex() {
  position: relative;
  min-height: 1px;
}
